document.addEventListener("DOMContentLoaded",function(){const i=document.getElementById("faculty"),t=document.getElementById("group"),c=document.getElementById("togglePassword"),a=document.getElementById("togglePasswordConfirm"),n=document.getElementById("password"),o=document.getElementById("password_confirmation"),l=document.getElementById("eyeIcon"),r=document.getElementById("eyeIconConfirm");if(i&&t&&i.addEventListener("change",function(){const e=this.value;if(t.innerHTML='<option value="">'+window.__("Loading...")+"</option>",t.disabled=!0,e){const u=(window.allGroups||[]).filter(d=>d.faculty_id==e);t.innerHTML='<option value="">'+window.__("Select Group")+"</option>",u.length>0?(u.forEach(d=>{const s=document.createElement("option");s.value=d.id,s.textContent=d.name,d.id==window.oldGroupId&&(s.selected=!0),t.appendChild(s)}),t.disabled=!1):t.innerHTML='<option value="">'+window.__("No groups available")+"</option>"}else t.innerHTML='<option value="">'+window.__("First select faculty")+"</option>",t.disabled=!0}),c&&n&&l&&c.addEventListener("click",function(){const e=n.getAttribute("type")==="password"?"text":"password";n.setAttribute("type",e),l.className=e==="text"?"icofont icofont-eye-blocked":"icofont icofont-eye"}),a&&o&&r&&a.addEventListener("click",function(){const e=o.getAttribute("type")==="password"?"text":"password";o.setAttribute("type",e),r.className=e==="text"?"icofont icofont-eye-blocked":"icofont icofont-eye"}),n&&o){const e=()=>{n.value!==o.value?o.setCustomValidity(window.__("Passwords do not match")):o.setCustomValidity("")};o.addEventListener("input",e),n.addEventListener("input",e)}i&&i.value&&i.dispatchEvent(new Event("change"))});
